/* ===== 基础配色 & 全局 ===== */
:root{
  --ink:#e8ecf1; --muted:#a9b0bd; --bg:#0b0f17; --panel: rgba(20,24,33,.48);
  --border: rgba(255,255,255,.08); --grad1:#7c8cff; --grad2:#b36bff;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial}

/* ===== 背景场景 & 毛玻璃 ===== */
.scene{position:fixed;inset:0;background-size:cover;background-position:center}
.scene-overlay{position:absolute;inset:0;
  background:radial-gradient(1200px 600px at 50% -10%,rgba(124,140,255,.35),transparent),
             rgba(6,8,12,.45);}
.glass{background:var(--panel);backdrop-filter:saturate(130%) blur(12px);border:1px solid var(--border);}

/* ===== 容器 & 标题 ===== */
.container{position:relative;max-width:980px;margin:48px auto;padding:0 20px;z-index:1}
.hero h1{font-size:44px;margin:0 0 8px}
.grad{background:linear-gradient(90deg,var(--grad1),var(--grad2));-webkit-background-clip:text;background-clip:text;color:transparent;}
.muted{color:var(--muted)}

/* ===== 控件面板 ===== */
.panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px;margin:24px 0 16px;}
.panel label{display:block;font-size:12px;color:var(--muted);margin:8px 0 6px;}
.panel input,.panel select{width:100%;height:40px;border-radius:10px;border:1px solid var(--border);background:#0e1320;color:var(--ink);padding:0 12px;}
.row{display:flex;gap:12px;margin-top:10px;flex-wrap:wrap}
.col{flex:1;min-width:200px}
.btn{margin-top:14px;padding:10px 16px;border:0;border-radius:999px;background:linear-gradient(90deg,var(--grad1),var(--grad2));color:#0a0f18;font-weight:700;cursor:pointer}

/* ===== 主题选择网格：两排 5 个 ===== */
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;margin:12px 0 60px;}
@media (max-width:900px){ .grid{grid-template-columns:repeat(2,1fr);} }
.tile{position:relative;display:flex;flex-direction:column;gap:8px;background:#0d1220;border:1px solid var(--border);border-radius:16px;overflow:hidden;padding:8px;cursor:pointer;outline:none}
.tile img{width:100%;height:120px;object-fit:cover;border-radius:12px}
.tile span{font-size:12px;color:#d8deea;text-align:left}
.tile.active{box-shadow:0 0 0 2px #8a7bff88, 0 0 0 1px #8a7bff inset}

/* ===== Debate 页面 ===== */
.debate-wrap{position:relative;inset:0;display:flex;flex-direction:column;min-height:100vh;padding:18px;z-index:1}
.topbar{display:flex;align-items:center;gap:10px;justify-content:space-between;margin-bottom:14px;padding:10px 12px;border-radius:14px;}
.link{background:none;border:0;color:#cdd6f7;cursor:pointer}
.badge{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid var(--border);}

.pane{max-width:980px;margin:0 auto;width:100%;min-height:340px;padding:14px;border-radius:16px;}
.chat-list{max-height:48vh;overflow:auto;padding:6px 4px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.03)}
.bubble{display:flex;margin:8px 0}
.bubble .bubble-content{padding:10px 12px;border-radius:12px;border:1px solid var(--border);max-width:86%}
.bubble.user{justify-content:flex-end}
.bubble.user .bubble-content{background:rgba(124,140,255,.12)}
.bubble.assistant .bubble-content{background:rgba(255,255,255,.06)}

.composer{display:flex;gap:10px;margin-top:10px}
.composer textarea{flex:1;height:90px;background:#0e1320;border:1px solid var(--border);border-radius:10px;color:var(--ink);padding:8px;resize:vertical;min-height:68px}

/* HUD & Mic */
.hud{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.chip{ padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:rgba(255,255,255,.06); }
.chip.calm{ background:rgba(54,197,127,.15); border-color:rgba(54,197,127,.25); }
.chip.excited{ background:rgba(255,148,66,.18); border-color:rgba(255,148,66,.28); }
.mic{ padding:8px 12px; border-radius:999px; border:1px solid var(--border); background:rgba(255,255,255,.08); color:#e8ecf1; cursor:pointer; }
.mic.on{ background:rgba(255,80,80,.18); border-color:rgba(255,80,80,.28); }

/* Consent Modal */
.consent-mask{ position:fixed; inset:0; background:rgba(0,0,0,.4); display:flex; align-items:center; justify-content:center; z-index:50; }
.consent{ width:min(680px, 92%); padding:18px; border-radius:16px; }
.ck{ display:flex; align-items:center; gap:8px; margin-top:8px; }